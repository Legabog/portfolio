import { FC, useEffect, useState } from 'react';

import { COLORS } from '@shared/constants';
import { SVG } from './figure.styled';

const { orange, orangeSecondary } = COLORS;

export const Figure: FC = () => {
  const [bodyState, setBodyState] = useState<0 | 1 | 2 | 3>(0);

  useEffect(() => {
    const bodyTimerId = setInterval(
      () => setBodyState((prev) => (prev === 3 ? 0 : (++prev as 1 | 2 | 3))),
      500,
    );

    return () => [bodyTimerId].forEach(clearInterval);
  }, []);

  return (
    <SVG
      data-testid='figure'
      height='300'
      preserveAspectRatio='xMidYMid meet'
      viewBox='0 0 320 320'
      width='300'
      xmlns='http://www.w3.org/2000/svg'
    >
      <defs>
        <clipPath id='figure'>
          <rect height='300' width='300' x='0' y='0' />
        </clipPath>
      </defs>
      <g clipPath='url(#figure)'>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '0.9977133870124817,0,0,0.9977133870124817,38.83714294433594,209.88583374023438' : bodyState === 1 ? '1.1810035705566406,0,0,1.1810035705566406,83.23039245605469,189.27432250976562' : bodyState === 2 ? '0.6175717711448669,0,0,0.6175717711448669,81.56742858886719,269.1982116699219' : '1.1515603065490723,0,0,1.1515603065490723,74.95353698730469,192.9078369140625'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,20.75,20.75)'>
            <path
              d=' M0,-19.5 C10.770000457763672,-19.5 19.5,-10.770000457763672 19.5,0 C19.5,0 20.5,0 20.5,0 C20.5,-11.321999549865723 11.321999549865723,-20.5 0,-20.5 C0,-20.5 0,-19.5 0,-19.5z M-19.5,0 C-19.5,-10.770000457763672 -10.770000457763672,-19.5 0,-19.5 C0,-19.5 0,-20.5 0,-20.5 C-11.321999549865723,-20.5 -20.5,-11.321999549865723 -20.5,0 C-20.5,0 -19.5,0 -19.5,0z M0,19.5 C-10.770000457763672,19.5 -19.5,10.770000457763672 -19.5,0 C-19.5,0 -20.5,0 -20.5,0 C-20.5,11.321999549865723 -11.321999549865723,20.5 0,20.5 C0,20.5 0,19.5 0,19.5z M19.5,0 C19.5,10.770000457763672 10.770000457763672,19.5 0,19.5 C0,19.5 0,20.5 0,20.5 C11.321999549865723,20.5 20.5,11.321999549865723 20.5,0 C20.5,0 19.5,0 19.5,0z'
              fill={ orangeSecondary }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '1,0,0,1,51.289703369140625,222.33839416503906' : bodyState === 1 ? '1,0,0,1,99.48622131347656,205.5301513671875' : bodyState === 2 ? '1,0,0,1,86.13204193115234,273.7628173828125' : '1,0,0,1,90.5984115600586,208.55271911621094'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,8.25,8.25)'>
            <path
              d=' M0,8 C-4.418000221252441,8 -8,4.418000221252441 -8,0 C-8,-4.418000221252441 -4.418000221252441,-8 0,-8 C4.418000221252441,-8 8,-4.418000221252441 8,0 C8,4.418000221252441 4.418000221252441,8 0,8z'
              fill={ orange }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '0.9979632496833801,0,0,0.9979632496833801,178.9454803466797,209.17819213867188' : bodyState === 1 ? '0.8770845532417297,0,0,0.8770845532417297,148.49658203125,220.59519958496094' : bodyState === 2 ? '0.7233505249023438,0,0,0.7233505249023438,230.23216247558594,172.75613403320312' : '0.9236017465591431,0,0,0.9236017465591431,157.01727294921875,216.891845703125'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,40.75,40.75)'>
            <path
              d=' M0,-39.5 C21.815000534057617,-39.5 39.5,-21.815000534057617 39.5,0 C39.5,0 40.5,0 40.5,0 C40.5,-22.367000579833984 22.368000030517578,-40.5 0,-40.5 C0,-40.5 0,-39.5 0,-39.5z M-39.5,0 C-39.5,-21.815000534057617 -21.815000534057617,-39.5 0,-39.5 C0,-39.5 0,-40.5 0,-40.5 C-22.368000030517578,-40.5 -40.5,-22.367000579833984 -40.5,0 C-40.5,0 -39.5,0 -39.5,0z M0,39.5 C-21.815000534057617,39.5 -39.5,21.815000534057617 -39.5,0 C-39.5,0 -40.5,0 -40.5,0 C-40.5,22.368000030517578 -22.368000030517578,40.5 0,40.5 C0,40.5 0,39.5 0,39.5z M39.5,0 C39.5,21.815000534057617 21.815000534057617,39.5 0,39.5 C0,39.5 0,40.5 0,40.5 C22.368000030517578,40.5 40.5,22.368000030517578 40.5,0 C40.5,0 39.5,0 39.5,0z'
              fill={ orangeSecondary }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '1,0,0,1,211.36248779296875,241.59518432617188' : bodyState === 1 ? '1,0,0,1,175.98777770996094,248.08639526367188' : bodyState === 2 ? '1,0,0,1,251.4586944580078,193.982666015625' : '1,0,0,1,186.404052734375,246.2786102294922'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,8.25,8.25)'>
            <path
              d=' M0,8 C-4.418000221252441,8 -8,4.418000221252441 -8,0 C-8,-4.418000221252441 -4.418000221252441,-8 0,-8 C4.418000221252441,-8 8,-4.418000221252441 8,0 C8,4.418000221252441 4.418000221252441,8 0,8z'
              fill={ orange }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '1.0016392469406128,0,0,1.0016392469406128,198.15072631835938,29.682159423828125' : bodyState === 1 ? '1.1053556203842163,0,0,1.1053556203842163,198.53314208984375,48.35633087158203' : bodyState === 2 ? '1.1250243186950684,0,0,1.1250243186950684,167.31533813476562,44.40068054199219' : '1.0769931077957153,0,0,1.0769931077957153,198.6261749267578,43.749610900878906'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,40.75,40.75)'>
            <path
              d=' M0,-39.5 C21.815000534057617,-39.5 39.5,-21.815000534057617 39.5,0 C39.5,0 40.5,0 40.5,0 C40.5,-22.367000579833984 22.368000030517578,-40.5 0,-40.5 C0,-40.5 0,-39.5 0,-39.5z M-39.5,0 C-39.5,-21.815000534057617 -21.815000534057617,-39.5 0,-39.5 C0,-39.5 0,-40.5 0,-40.5 C-22.368000030517578,-40.5 -40.5,-22.367000579833984 -40.5,0 C-40.5,0 -39.5,0 -39.5,0z M0,39.5 C-21.815000534057617,39.5 -39.5,21.815000534057617 -39.5,0 C-39.5,0 -40.5,0 -40.5,0 C-40.5,22.368000030517578 -22.368000030517578,40.5 0,40.5 C0,40.5 0,39.5 0,39.5z M39.5,0 C39.5,21.815000534057617 21.815000534057617,39.5 0,39.5 C0,39.5 0,40.5 0,40.5 C22.368000030517578,40.5 40.5,22.368000030517578 40.5,0 C40.5,0 39.5,0 39.5,0z'
              fill={ orangeSecondary }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '1,0,0,1,230.717529296875,62.24895477294922' : bodyState === 1 ? '1,0,0,1,235.32638549804688,85.14957427978516' : bodyState === 2 ? '1,0,0,1,204.9100799560547,81.99542236328125' : '1,0,0,1,234.26364135742188,79.3870849609375'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,8.25,8.25)'>
            <path
              d=' M0,8 C-4.418000221252441,8 -8,4.418000221252441 -8,0 C-8,-4.418000221252441 -4.418000221252441,-8 0,-8 C4.418000221252441,-8 8,-4.418000221252441 8,0 C8,4.418000221252441 4.418000221252441,8 0,8z'
              fill={ orange }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '0.9979813098907471,0,0,0.9979813098907471,38.5137939453125,68.963287353515622' : bodyState === 1 ? '0.9505163431167603,0,0,0.9505163431167603,52.54833221435547,71.65409851074219' : bodyState === 2 ? '0.9160842895507812,0,0,0.9160842895507812,25.57488250732422,51.67826843261719' : '0.9613093733787537,0,0,0.9613093733787537,49.57384490966797,71.18515014648438'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,40.75,40.75)'>
            <path
              d=' M0,-39.5 C21.815000534057617,-39.5 39.5,-21.815000534057617 39.5,0 C39.5,0 40.5,0 40.5,0 C40.5,-22.367000579833984 22.368000030517578,-40.5 0,-40.5 C0,-40.5 0,-39.5 0,-39.5z M-39.5,0 C-39.5,-21.815000534057617 -21.815000534057617,-39.5 0,-39.5 C0,-39.5 0,-40.5 0,-40.5 C-22.368000030517578,-40.5 -40.5,-22.367000579833984 -40.5,0 C-40.5,0 -39.5,0 -39.5,0z M0,39.5 C-21.815000534057617,39.5 -39.5,21.815000534057617 -39.5,0 C-39.5,0 -40.5,0 -40.5,0 C-40.5,22.368000030517578 -22.368000030517578,40.5 0,40.5 C0,40.5 0,39.5 0,39.5z M39.5,0 C39.5,21.815000534057617 21.815000534057617,39.5 0,39.5 C0,39.5 0,40.5 0,40.5 C22.368000030517578,40.5 40.5,22.368000030517578 40.5,0 C40.5,0 39.5,0 39.5,0z'
              fill={ orangeSecondary }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '1,0,0,1,70.9315414428711,101.38102722167969' : bodyState === 1 ? '1,0,0,1,83.03186798095703,102.13764190673828' : bodyState === 2 ? '1,0,0,1,54.65531921386719,80.75871276855469' : '1,0,0,1,80.49720001220703,102.10850524902344'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,8.25,8.25)'>
            <path
              d=' M0,8 C-4.418000221252441,8 -8,4.418000221252441 -8,0 C-8,-4.418000221252441 -4.418000221252441,-8 0,-8 C4.418000221252441,-8 8,-4.418000221252441 8,0 C8,4.418000221252441 4.418000221252441,8 0,8z'
              fill={ orange }
              fillOpacity='1'
            />
          </g>
        </g>
        <g
          opacity='1'
          transform={ `matrix(${bodyState === 0 ? '0.9979117512702942,0,0,0.9979117512702942,78.72563171386719,89.66862487792969' : bodyState === 1 ? '0.8955045342445374,0,0,0.8955045342445374,86.9950180053711,97.9380111694336' : bodyState === 2 ? '1.0479357242584229,0,0,1.0479357242584229,74.68619537353516,85.62918853759766' : '0.9199407696723938,0,0,0.9199407696723938,85.02178955078125,95.96478271484375'})` }
        >
          <g opacity='1' transform='matrix(1,0,0,1,80.75,80.75)'>
            <path
              d=' M0,-79.5 C43.90700149536133,-79.5 79.5,-43.90599822998047 79.5,0 C79.5,0 80.5,0 80.5,0 C80.5,-44.45899963378906 44.45899963378906,-80.5 0,-80.5 C0,-80.5 0,-79.5 0,-79.5z M-79.5,0 C-79.5,-43.90599822998047 -43.90700149536133,-79.5 0,-79.5 C0,-79.5 0,-80.5 0,-80.5 C-44.45899963378906,-80.5 -80.5,-44.45899963378906 -80.5,0 C-80.5,0 -79.5,0 -79.5,0z M0,79.5 C-43.90700149536133,79.5 -79.5,43.90700149536133 -79.5,0 C-79.5,0 -80.5,0 -80.5,0 C-80.5,44.45899963378906 -44.45899963378906,80.5 0,80.5 C0,80.5 0,79.5 0,79.5z M79.5,0 C79.5,43.90700149536133 43.90700149536133,79.5 0,79.5 C0,79.5 0,80.5 0,80.5 C44.45899963378906,80.5 80.5,44.45899963378906 80.5,0 C80.5,0 79.5,0 79.5,0z'
              fill={ orangeSecondary }
              fillOpacity='1'
            />
          </g>
        </g>
        <g opacity='1' transform='matrix(1,0,0,1,151.0570068359375,162)'>
          <g opacity='1' transform='matrix(1,0,0,1,8.25,8.25)'>
            <path
              d=' M0,8 C-4.418000221252441,8 -8,4.418000221252441 -8,0 C-8,-4.418000221252441 -4.418000221252441,-8 0,-8 C4.418000221252441,-8 8,-4.418000221252441 8,0 C8,4.418000221252441 4.418000221252441,8 0,8z'
              fill={ orange }
              fillOpacity='1'
            />
          </g>
        </g>
      </g>
    </SVG>
  );
};
